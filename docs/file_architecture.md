# Логика распределения файлов в проекте

Мы используем методологию **FSD (Feature-Sliced Design)**. Подробнее можно почитать [здесь](https://feature-sliced.design/ru/docs). Ниже описана основная суть и расхождения, которые будут у нас.

## Основные сущности

Весь код делится на 3 основные сущности в следующем порядке:

1. **Слои**
2. **Слайсы**
3. **Сегменты**

### Слои

Слой — это первый уровень организационной иерархии. Их цель — разделить код на основе того, сколько ответственности ему требуется и от скольких других модулей в приложении он зависит.

### Слайсы

Слайс — это второй уровень организационной иерархии. Их цель — группировать код по его значению, например, по бизнес-сущностям, которые в них описываются. Этот уровень относится не ко всем слоям.

### Сегменты

Сегмент — это третий и последний уровень в организационной иерархии. Их цель — группировать код по его техническому назначению.

### Пример структуры

```plaintext
entities      # слой
  user        # слайс
    api       # сегмент
    config    # сегмент
  products    # слайс
    api       # сегмент
    helpers   # сегмент
```

# Слои

Всего есть 6 основных слоев в приложении, которые будут папками в директории `src`:

- **app**
- **pages**
- **widgets**
- **features**
- **entities**
- **shared**

---

## Слой `app`

Самая глобальная сущность, которая используется для провайдеров, main-компонентов и всего, что относится к приложению в целом.

**Что попадает сюда:**

- Роуты
- Глобальные стили
- Глобальные сторы приложения

**Важно:** Этот слой не содержит слайсов, только сегменты.

---

## Слой `pages`

Здесь хранятся полноценные страницы. Компоненты из этой папки могут использоваться исключительно в `app` или в main-компонентах.

**Что может храниться здесь:**

- Загрузочные компоненты, которые подходят только для этой страницы (скелетоны и т.д.)
- Компоненты, которые находятся только на этой странице
- Компоненты из слоев ниже, из которых состоят страницы

**Пример:** Страница `MassAdvertPage`, ее `Skeleton` и таблица (почему таблица находится тут, описано в слое `widgets`).

---

## Слой `widgets`

Слой `widgets` предназначен для больших самодостаточных блоков интерфейса. Виджеты наиболее полезны, когда они используются на нескольких страницах или когда страница, к которой они принадлежат, имеет несколько больших независимых блоков, и это один из них.

**Пример:** Блок с кнопками на `MassAdvertPage` (которые над таблицей находятся).

---

## Слой `features`

Самый **интересный** блок приложения. Здесь находятся, в основном, штуки, которые есть в нашем приложении, и которых нет в других страницах. Тут находятся полноценные сценарии взаимодействия пользователя с приложением.

**Пример:** На странице `MassAdvertPage` в виджете с кнопками есть кнопка "Создать" для создания РК, вот она + модалки, которые с ней — это `feature`.

---

## Слой `entities`

Здесь находятся глобальные сущности, с которыми работает приложение. Этот код, в основном, используется для API и всего, что с ним связано: запросы, DTO-шки, какие-то преобразования этих DTO-шек.

**Пример:** Карточка товара может находиться здесь, но модалка взаимодействия с этой карточкой не находится тут.

---

## Слой `shared`

Здесь находятся штуки, которые используются везде в приложении.

**Пример:** UI для различных инпутов, различные стили, которые нужны много где. Обычно используются такие сегменты:

- **ui** (сюда же можно отнести и большие блоки, например, страница 404 Not Found, общие скелетоны и шаблоны для страниц)
- **config**
- **lib** (какие-то внутренние преобразования или proxy для библиотек, если необходимо)
